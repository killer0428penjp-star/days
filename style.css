:root {
  --main-bg: #f0f4f8; --card-bg: rgba(255, 255, 255, 0.8); --accent: #0070ff;
  --text-main: #1a202c; --text-sub: #718096; --border-soft: #e2e8f0;
  --up-color: #ff4d4d; --down-color: #0070ff;
  --cal-bg: #ffffff; --cal-text: #1a202c; --cal-cell-bg: #f8fafc; --cal-memo-bg: #ffffff;
}
body.dark-mode {
  --main-bg: #1e1e2f; --card-bg: rgba(30, 30, 47, 0.85); --accent: #00f2ff;
  --text-main: #ffffff; --text-sub: #a0aec0; --border-soft: #2d3748;
  --down-color: #00f2ff; --cal-bg: #111111; --cal-text: #ffffff; --cal-cell-bg: #222222; --cal-memo-bg: #1a1a1a;
}
body { margin: 0; font-family: 'Montserrat', sans-serif; background-color: var(--main-bg); background-image: radial-gradient(var(--border-soft) 1px, transparent 1px); background-size: 20px 20px; color: var(--text-main); transition: 0.4s; overflow-x: hidden; }
/* ================= 今日のメモバー ================= */
.today-bar {
  display: none; /* JSで制御 */
  justify-content: space-between;
  align-items: center;
  width: 100%;
  max-width: 620px;
  margin: 0 auto 20px auto;
  padding: 14px 22px;
  border-radius: 12px;

  /* 未来感の背景グラデーション */
  background: linear-gradient(135deg, #f0f0f5, #e0e0ff);
  border: 1px solid rgba(100, 100, 255, 0.3);
  box-shadow: 0 4px 12px rgba(100, 100, 255, 0.15), 0 0 12px rgba(100,100,255,0.1) inset;

  font-family: 'Roboto Mono', monospace;
  color: #1a1a2e;

  transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
}

.today-bar:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(100, 100, 255, 0.25), 0 0 18px rgba(100,100,255,0.15) inset;
  background: linear-gradient(135deg, #e0e0ff, #d0d0ff);
}

.today-bar-content {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  font-size: 0.9rem;
  line-height: 1.5;
}

/* ラベル */
.today-label {
  font-weight: 800;
  color: #4f4fff;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  text-shadow: 0 0 6px rgba(79,79,255,0.6);
  white-space: nowrap;
}

/* メモテキスト */
.today-bar-text {
  flex: 1;
  white-space: pre-wrap;
  word-break: break-word;
  text-align: left;
  font-size: 0.88rem;
  color: #1a1a2e;
  text-shadow: 0 0 2px rgba(0,0,0,0.2);
  transition: color 0.3s;
}

/* ================= もっと見るボタン ================= */
.today-more-btn {
  background: linear-gradient(135deg, #4f4fff, #7f7fff);
  color: #fff;
  border: none;
  padding: 5px 14px;
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: 8px;
  cursor: pointer;

  box-shadow: 0 2px 8px rgba(79,79,255,0.4), 0 0 6px rgba(79,79,255,0.3) inset;
  transition: transform 0.2s, box-shadow 0.2s, opacity 0.2s;
}

.today-more-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(79,79,255,0.6), 0 0 8px rgba(79,79,255,0.4) inset;
  opacity: 0.95;
}

/* ================= ダークモード ================= */
body.dark-mode .today-bar {
  background: linear-gradient(135deg, #1b1b2f, #2a2a44);
  border: 1px solid rgba(120, 80, 255, 0.4);
  box-shadow: 0 4px 12px rgba(120,80,255,0.4), 0 0 12px rgba(120,80,255,0.2) inset;
}

body.dark-mode .today-label {
  color: #9f9fff;
  text-shadow: 0 0 6px rgba(159,159,255,0.7);
}

body.dark-mode .today-bar-text {
  color: #eee;
  text-shadow: 0 0 3px rgba(0,0,0,0.3);
}

body.dark-mode .today-more-btn {
  background: linear-gradient(135deg, #9f9fff, #cfcfff);
  box-shadow: 0 2px 8px rgba(159,159,255,0.5), 0 0 6px rgba(159,159,255,0.3) inset;
}
/* 時計・ヘッダー */
.top-space { height: 220px; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; background-size: cover; background-position: center; border-bottom: 2px solid var(--accent); position: relative; transition: background-image 1s ease-in-out; }
.top-space::before { content: ""; position: absolute; inset: 0; background: rgba(255, 255, 255, 0.3); z-index: 1; }
body.dark-mode .top-space::before { background: rgba(0, 0, 0, 0.4); }
.weather-top, .clock-main { position: relative; z-index: 2; }
.weather-top { font-family: 'Roboto Mono', monospace; margin-bottom: 10px; display: flex; justify-content: center; gap: 15px; font-size: 1rem; font-weight: 700; text-shadow: 0 1px 4px rgba(0,0,0,0.2); }
.clock-main { font-family: 'Roboto Mono', monospace; font-size: 65px; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2); }
.seconds { font-size: 28px; opacity: 0.8; }
.diff-badge { font-size: 0.7rem; padding: 1px 5px; border-radius: 4px; color: #fff; margin-left: 4px; display: none; }
.diff-up { background-color: var(--up-color); }
.diff-down { background-color: var(--down-color); }

/* タブ */
.tag-container { display: flex; justify-content: space-around; max-width: 620px; margin: 20px auto; background: var(--card-bg); padding: 12px 20px; border-radius: 14px; border: 1px solid var(--border-soft); backdrop-filter: blur(8px); }
.tag { cursor: pointer; font-size: 16px; position: relative; color: var(--text-sub); font-weight: bold; }
.tag.active { color: var(--accent); }
.tag::after { content: ""; position: absolute; left: 0; bottom: -4px; width: 0; height: 2px; background: var(--accent); transition: 0.3s; }
.tag.active::after { width: 100%; }

/* ニュース */
#news-feed-container { max-width: 620px; margin: 0 auto; padding: 0 12px; display: block; }
.news-tabs { display: flex; justify-content: space-around; margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 10px; }
.n-tab { cursor: pointer; color: var(--text-sub); font-size: 0.85rem; font-weight: 800; letter-spacing: 1.5px; text-transform: uppercase; }
.n-tab.active { color: var(--accent); }
.news-card { background: var(--card-bg); border: 1px solid var(--border-soft); border-radius: 4px; margin-bottom: 26px; overflow: hidden; backdrop-filter: blur(8px); }
.news-img { width: 100%; height: 220px; object-fit: cover; }
.card-body { padding: 20px; }
.news-title { font-size: 1.1rem; font-weight: 800; color: var(--text-main); line-height: 1.5; margin-bottom: 15px; }
.news-content { background: rgba(255, 255, 255, 0.95); color: #4a5568; padding: 18px; border-top: 1px solid var(--accent); display: none; font-size: 0.95rem; line-height: 1.8; }
body.dark-mode .news-content { background: #1a1a2e; color: #cbd5e0; }
.news-card.open .news-content { display: block; animation: slideDown 0.3s ease-out; }
.meta { display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; color: var(--text-sub); }
.btn-read { background: transparent; border: 1px solid var(--accent); color: var(--accent); padding: 6px 14px; cursor: pointer; font-weight: 700; }
.btn-like { cursor: pointer; color: #cbd5e0; font-size: 1.4rem; border: none; background: none; }
.btn-like.liked { color: #ff0055; }
.full-link { display: inline-block; margin-top: 15px; padding: 10px 20px; background: var(--accent); color: #fff !important; font-weight: 700; text-decoration: none; font-size: 0.85rem; border-radius: 2px; }

/* カレンダー */
#calendar-container { display: none; width: 100%; max-width: 480px; margin: 0 auto; padding: 20px; box-sizing: border-box; }
.calendar { background: var(--cal-bg); padding: 20px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); color: var(--cal-text); border: 1px solid var(--border-soft); transition: 0.4s; }
.cal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; }
.cal-header button { background: var(--accent); border:none; color:white; padding:8px 14px; font-weight:bold; border-radius:8px; cursor:pointer; }
#cal-title { font-size:1.5em; font-weight:bold; }
.week, .days { display:grid; grid-template-columns:repeat(7,1fr); }
.week div { text-align:center; font-weight:bold; padding:10px 0; border-bottom:2px solid var(--border-soft); cursor:pointer; }
.week div.selected-week { background:#2ecc71; color: white; border-radius:8px; }
.days div { text-align:center; padding:12px 0; margin:3px; border-radius:10px; cursor:pointer; font-weight:bold; position:relative; background: var(--cal-cell-bg); }
.saturday { background: #3498db !important; background-image: none !important; color: white !important; }
.sunday, .holiday { background: #e74c3c !important; background-image: none !important; color: white !important; }
.holiday-label { position:absolute; top:2px; right:2px; font-size:8px; line-height: 1; color: white !important; background: transparent !important; border: none !important; outline: none !important; box-shadow: none !important; }
.memo-day-important { background: #ff69b4 !important; color: white; }
.today { background: #f1c40f !important; color: #000 !important; }
.selected { outline: 3px solid #2ecc71; z-index: 5; }
.memo { margin-top:20px; display:flex; flex-direction:column; align-items:center; width:100%; }
.memo textarea { width:100%; padding:12px; border-radius:12px; background: var(--cal-memo-bg); color: var(--cal-text); border:1px solid var(--border-soft); font-size: 16px; box-sizing: border-box; min-height:100px; }
.action-btn { margin:3px; padding:6px 12px; border-radius:6px; border:none; color:white; font-weight:bold; cursor:pointer; }
.save-btn { background:#2ecc71; }
.important-btn { background:#ff69b4; }
.delete-btn { background:#e67e22; }
.delete-all-btn { background:#8e44ad; }
#status-msg { width:100%; padding:8px; margin:5px 0; text-align:center; font-weight:bold; border-radius:8px; background: rgba(0,0,0,0.05); color: var(--text-main); min-height:20px; font-size:12px; }

/* その他 */
.switch-container { position: fixed; top: 15px; left: 14px; z-index: 1000; }
.switch { position: relative; width: 44px; height: 24px; display: block; cursor: pointer; }
.switch input { opacity: 0; }
.slider { position: absolute; inset: 0; background: #ccc; border-radius: 30px; transition: 0.4s; }
.slider::before { content: ""; position: absolute; width: 18px; height: 18px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.4s; }
input:checked + .slider { background: var(--accent); }
input:checked + .slider::before { transform: translateX(20px); }
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
.blink { animation: blink 1s infinite; }

/* ================= Neo Pod Pro 追加スタイル ================= */
#tolk-screen { display: none; height: calc(100vh - 280px); /* Adjust for header */ overflow: hidden; position: relative; max-width: 600px; margin: 0 auto; background: var(--bg); border-radius: 20px; border: 1px solid var(--border-soft); }
#tolk-screen .auth-overlay {
  position: fixed;    /* 画面に固定 */
  top: 0;
  left: 0;
  width: 100vw;       /* 画面の横幅いっぱい */
  height: 100vh;      /* 画面の縦幅いっぱい */
  background: var(--main-bg); /* bodyと同じ背景色にして他を隠す */
  z-index: 9999;      /* どんな要素よりも手前に */
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px); /* 少し後ろを透かしたい場合はこれ（完全に隠すなら不要） */
}

/* ログインカードを浮かせて目立たせる */
#tolk-screen .auth-card {
  background: var(--card-bg);
  padding: 40px;
  border-radius: 20px;
  border: 1px solid var(--border-soft);
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  max-width: 400px;
  width: 90%;
}
#tolk-screen .acc-item { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; min-width: 70px; }
#tolk-screen .acc-item img { width: 55px; height: 55px; border-radius: 50%; border: 2px solid var(--accent); object-fit: cover; background: #eee; }
#tolk-screen header { padding: 10px 15px; background: #fff; border-bottom: 1px solid var(--border-soft); display: flex; justify-content: space-between; align-items: center; }
#tolk-screen .header-left { display: flex; align-items: center; gap: 10px; }
#tolk-screen .nav-tabs { display: flex; background: #fff; border-bottom: 1px solid var(--border-soft); }
#tolk-screen .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer; font-size: 13px; font-weight: bold; color: #888; }
#tolk-screen .tab.active { color: var(--accent); border-bottom: 3px solid var(--accent); background: rgba(9, 132, 227, 0.05); }
#tolk-screen .screen { flex: 1; overflow-y: auto; padding: 15px; }
#tolk-screen .data-table { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
#tolk-screen .data-row { background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
#tolk-screen .data-row td { padding: 12px 15px; vertical-align: middle; border-radius: 15px; }
#tolk-screen .icon-cell { width: 45px; height: 45px; border-radius: 12px; object-fit: cover; background: #eee; }
#tolk-screen .friend-icon { border-radius: 50% !important; }
#tolk-screen .input-field { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box; font-size: 14px; outline: none; background: #fff; color: #333; }
#tolk-screen .send-btn { background: var(--primary); color: #fff; border: none; padding: 12px; width: 100%; border-radius: 20px; font-weight: bold; cursor: pointer; }
#tolk-screen .btn-sub { background: #fff; border: 1px solid #ddd; color: #666; font-size: 11px; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-left: 5px; }
#tolk-screen .btn-edit { color: var(--success); border-color: var(--success); }
#tolk-screen .btn-del { color: var(--danger); border-color: var(--danger); }
#tolk-screen .hidden { display: none !important; }
#tolk-screen .modal-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); z-index: 4000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
#tolk-screen .modal-card { background: #fff; padding: 25px; border-radius: 25px; width: 80%; max-width: 320px; text-align: center; }
#tolk-screen .animated-emoji { display: inline-block; font-size: 24px; }
#tolk-screen .bounce { animation: bounce 0.6s infinite alternate; }
#tolk-screen .wave { animation: wave 1s infinite; transform-origin: bottom right; }
@keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }
@keyframes wave { 0%, 100% { transform: rotate(0); } 50% { transform: rotate(20deg); } }
/* Neo Pod 独自変数上書き */
:root { --primary: #2d3436; --danger: #ff7675; --success: #00b894; --bg: #f8f9fa; --card: #ffffff; }

/* ================= アカウント操作エリアを右上に固定 ================= */
#tolk-screen header {
  position: fixed;    /* 画面に対して固定 */
  top: 15px;          /* 上から15px */
  right: 15px;        /* 右から15px */
  z-index: 3000;      /* 最前面に表示 */
  
  display: flex;
  align-items: center;
  gap: 12px;
  
  padding: 8px 15px;
  background: var(--card-bg); /* rootで設定した背景色（半透明） */
  backdrop-filter: blur(8px);
  border-radius: 50px;       /* 角を丸くしてカプセル型に */
  border: 1px solid var(--border-soft);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  
  width: auto;               /* 中身に合わせて伸縮 */
  height: auto;
}

/* ヘッダー内のレイアウト調整 */
#tolk-screen .header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ボタンをさらにコンパクトに */
#tolk-screen .btn-sub {
  margin-left: 5px;
  padding: 4px 8px;
  font-size: 10px;           /* 文字を小さく */
  border-radius: 6px;
}

/* ダークモード対応 */
body.dark-mode #tolk-screen header {
  background: rgba(30, 30, 47, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
}